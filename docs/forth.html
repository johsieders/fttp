---

title: A Forth Interpreter


keywords: fastai
sidebar: home_sidebar



nb_path: "nbs\09_forth.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: nbs\09_forth.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">Forth</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stack</span> <span class="o">=</span> <span class="p">[]</span>          <span class="c1"># data and words. Survives call, available for next call</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">return_stack</span> <span class="o">=</span> <span class="p">[]</span>   <span class="c1"># data only. Must be empty at end of call</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stdout</span> <span class="o">=</span> <span class="p">[]</span>         <span class="c1"># Standard out. Survives call, available for documentation</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stderr</span> <span class="o">=</span> <span class="p">[]</span>         <span class="c1"># Standard error. Survives call, available for documentation</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">words</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;.&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">dot</span><span class="p">,</span>
                      <span class="s1">&#39;:&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">colon</span><span class="p">,</span>
                      <span class="s1">&#39;IF&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_if</span><span class="p">,</span>
                      <span class="s1">&#39;BEGIN&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">begin</span><span class="p">,</span>
                      <span class="s1">&#39;DO&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">do</span><span class="p">,</span>
                      <span class="s1">&#39;+&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">plus</span><span class="p">,</span>
                      <span class="s1">&#39;-&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">minus</span><span class="p">,</span>
                      <span class="s1">&#39;1-&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">one_minus</span><span class="p">,</span>
                      <span class="s1">&#39;*&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">star</span><span class="p">,</span>
                      <span class="s1">&#39;/&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">slash</span><span class="p">,</span>
                      <span class="s1">&#39;&lt;&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">less_than</span><span class="p">,</span>
                      <span class="s1">&#39;NOT&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_not</span><span class="p">,</span>
                      <span class="s1">&#39;&gt;R&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_R</span><span class="p">,</span>
                      <span class="s1">&#39;R&gt;&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">R_from</span><span class="p">,</span>
                      <span class="s1">&#39;DROP&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">drop</span><span class="p">,</span>
                      <span class="s1">&#39;DUP&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">dup</span><span class="p">,</span>
                      <span class="s1">&#39;?DUP&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">q_dup</span><span class="p">,</span>
                      <span class="s1">&#39;2DUP&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">dup2</span><span class="p">,</span>
                      <span class="s1">&#39;MOD&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">mod</span><span class="p">,</span>
                      <span class="s1">&#39;PICK&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">pick</span><span class="p">,</span>
                      <span class="s1">&#39;ROT&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">rot</span><span class="p">,</span>
                      <span class="s1">&#39;-ROT&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">m_rot</span><span class="p">,</span>
                      <span class="s1">&#39;SWAP&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">swap</span><span class="p">,</span>
                      <span class="s1">&#39;NIP&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">nip</span><span class="p">,</span>
                      <span class="s1">&#39;TUCK&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">tuck</span><span class="p">,</span>
                      <span class="s1">&#39;OVER&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">over</span><span class="p">}</span>

    <span class="k">def</span> <span class="nf">clear</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        clear stack, stdout, stderr</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stdout</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stderr</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>

    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">code</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">tokens</span> <span class="o">=</span> <span class="n">code</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">tokens</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">stdout</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">stack</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tokens</span><span class="p">:</span> <span class="nb">list</span><span class="p">):</span>
        <span class="k">while</span> <span class="n">tokens</span><span class="p">:</span>
            <span class="n">token</span> <span class="o">=</span> <span class="n">tokens</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>       <span class="c1"># token to be processed</span>
            <span class="n">tokens</span> <span class="o">=</span> <span class="n">tokens</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>     <span class="c1"># popleft token</span>
            <span class="n">word</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">words</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">token</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">token</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;IF&#39;</span><span class="p">,</span> <span class="s1">&#39;BEGIN&#39;</span><span class="p">,</span> <span class="s1">&#39;DO&#39;</span><span class="p">,</span> <span class="s1">&#39;:&#39;</span><span class="p">]:</span>    <span class="c1"># control structures</span>
                <span class="n">tokens</span> <span class="o">=</span> <span class="n">word</span><span class="p">(</span><span class="n">tokens</span><span class="p">)</span>      <span class="c1"># tokens given and tokens returned start at first token to be processed</span>
            <span class="k">elif</span> <span class="n">word</span><span class="p">:</span>
                <span class="n">word</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">token</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">_if</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tokens</span><span class="p">:</span> <span class="nb">list</span><span class="p">):</span>
        <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">next_then</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">next_else</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">token</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">tokens</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">token</span> <span class="o">==</span> <span class="s1">&#39;THEN&#39;</span> <span class="ow">and</span> <span class="n">count</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>  <span class="c1"># next THEN found</span>
                <span class="n">next_then</span> <span class="o">=</span> <span class="n">i</span>
                <span class="k">break</span>
            <span class="k">if</span> <span class="n">token</span> <span class="o">==</span> <span class="s1">&#39;ELSE&#39;</span> <span class="ow">and</span> <span class="n">count</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>  <span class="c1"># next ELSE found</span>
                <span class="n">next_else</span> <span class="o">=</span> <span class="n">i</span>
            <span class="k">elif</span> <span class="n">token</span> <span class="o">==</span> <span class="s1">&#39;IF&#39;</span><span class="p">:</span>  <span class="c1"># irrelevant IF</span>
                <span class="n">count</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">elif</span> <span class="n">token</span> <span class="o">==</span> <span class="s1">&#39;THEN&#39;</span><span class="p">:</span>  <span class="c1"># irrelevant THEN</span>
                <span class="n">count</span> <span class="o">-=</span> <span class="mi">1</span>

        <span class="k">if</span> <span class="n">next_then</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">stderr</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;bad if-structure&#39;</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">Exception</span>
        <span class="k">if</span> <span class="n">next_else</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">next_else</span> <span class="o">=</span> <span class="n">next_then</span>

        <span class="n">if_clause</span> <span class="o">=</span> <span class="n">tokens</span><span class="p">[:</span><span class="n">next_else</span><span class="p">]</span>
        <span class="n">else_clause</span> <span class="o">=</span> <span class="n">tokens</span><span class="p">[</span><span class="n">next_else</span> <span class="o">+</span> <span class="mi">1</span><span class="p">:</span><span class="n">next_then</span><span class="p">]</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">pop</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">if_clause</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">else_clause</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">tokens</span><span class="p">[</span><span class="n">next_then</span> <span class="o">+</span> <span class="mi">1</span><span class="p">:]</span>

    <span class="k">def</span> <span class="nf">begin</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tokens</span><span class="p">:</span> <span class="nb">list</span><span class="p">):</span>
        <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">next_until</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">token</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">tokens</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">token</span> <span class="o">==</span> <span class="s1">&#39;UNTIL&#39;</span> <span class="ow">and</span> <span class="n">count</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>  <span class="c1"># next UNTIL found</span>
                <span class="n">next_until</span> <span class="o">=</span> <span class="n">i</span>
                <span class="k">break</span>
            <span class="k">elif</span> <span class="n">token</span> <span class="o">==</span> <span class="s1">&#39;BEGIN&#39;</span><span class="p">:</span>  <span class="c1"># irrelevant BEGIN</span>
                <span class="n">count</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">elif</span> <span class="n">token</span> <span class="o">==</span> <span class="s1">&#39;UNTIL&#39;</span><span class="p">:</span>  <span class="c1"># irrelevant UNTIL</span>
                <span class="n">count</span> <span class="o">-=</span> <span class="mi">1</span>

        <span class="k">if</span> <span class="n">next_until</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">stderr</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;bad begin-structure&#39;</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">Exception</span>

        <span class="n">loop_clause</span> <span class="o">=</span> <span class="n">tokens</span><span class="p">[:</span><span class="n">next_until</span><span class="p">]</span>   <span class="c1"># everything between BEGIN and UNTIL</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">loop_clause</span><span class="p">)</span>               <span class="c1"># run loop until top of stack is true</span>
        <span class="k">while</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">pop</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">loop_clause</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">tokens</span><span class="p">[</span><span class="n">next_until</span> <span class="o">+</span> <span class="mi">1</span><span class="p">:]</span>

    <span class="k">def</span> <span class="nf">do</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tokens</span><span class="p">:</span> <span class="nb">list</span><span class="p">):</span>
        <span class="n">initial</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
        <span class="n">limit</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>

        <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">next_loop</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">token</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">tokens</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">token</span> <span class="o">==</span> <span class="s1">&#39;LOOP&#39;</span> <span class="ow">and</span> <span class="n">count</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>  <span class="c1"># next LOOP found</span>
                <span class="n">next_loop</span> <span class="o">=</span> <span class="n">i</span>
                <span class="k">break</span>
            <span class="k">elif</span> <span class="n">token</span> <span class="o">==</span> <span class="s1">&#39;DO&#39;</span><span class="p">:</span>  <span class="c1"># irrelevant DO</span>
                <span class="n">count</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">elif</span> <span class="n">token</span> <span class="o">==</span> <span class="s1">&#39;LOOP&#39;</span><span class="p">:</span>  <span class="c1"># irrelevant LOOP</span>
                <span class="n">count</span> <span class="o">-=</span> <span class="mi">1</span>

        <span class="k">if</span> <span class="n">next_loop</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">stderr</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;bad do-structure&#39;</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">Exception</span>

        <span class="n">loop_clause</span> <span class="o">=</span> <span class="n">tokens</span><span class="p">[:</span><span class="n">next_loop</span><span class="p">]</span>   <span class="c1"># everything between DO and LOOP</span>
        <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">initial</span><span class="p">,</span> <span class="n">limit</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">loop_clause</span><span class="p">)</span>         <span class="c1"># run loop (limit - initial) times</span>
        <span class="k">return</span> <span class="n">tokens</span><span class="p">[</span><span class="n">next_loop</span> <span class="o">+</span> <span class="mi">1</span><span class="p">:]</span>

    <span class="k">def</span> <span class="nf">colon</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tokens</span><span class="p">:</span> <span class="nb">list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        This method defines a new word given as &#39;: LITERAL ( comment ) &lt;code&gt;;&#39;</span>
<span class="sd">        and stores it in self.words under LITERAL</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">literal</span> <span class="o">=</span> <span class="n">tokens</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>      <span class="c1"># get literal</span>
        <span class="n">tokens</span> <span class="o">=</span> <span class="n">tokens</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>

        <span class="k">if</span> <span class="n">tokens</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;(&#39;</span><span class="p">:</span>    <span class="c1"># eliminate comment</span>
            <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="n">end_comment</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">token</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">tokens</span><span class="p">[</span><span class="mi">1</span><span class="p">:]):</span>
                <span class="k">if</span> <span class="n">token</span> <span class="o">==</span> <span class="s1">&#39;)&#39;</span> <span class="ow">and</span> <span class="n">count</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>  <span class="c1"># end_comment found</span>
                    <span class="n">end_comment</span> <span class="o">=</span> <span class="n">i</span>
                    <span class="k">break</span>
                <span class="k">elif</span> <span class="n">token</span> <span class="o">==</span> <span class="s1">&#39;(&#39;</span><span class="p">:</span>  <span class="c1"># irrelevant (</span>
                    <span class="n">count</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="k">elif</span> <span class="n">token</span> <span class="o">==</span> <span class="s1">&#39;)&#39;</span><span class="p">:</span>  <span class="c1"># irrelevant )</span>
                    <span class="n">count</span> <span class="o">+=</span> <span class="o">-</span><span class="mi">1</span>

            <span class="k">if</span> <span class="n">end_comment</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">stderr</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;bad comment-structure&#39;</span><span class="p">)</span>
                <span class="k">raise</span> <span class="ne">Exception</span>

            <span class="n">tokens</span> <span class="o">=</span> <span class="n">tokens</span><span class="p">[</span><span class="n">end_comment</span> <span class="o">+</span> <span class="mi">2</span><span class="p">:]</span>

        <span class="n">next_semicolon</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">token</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">tokens</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">token</span> <span class="o">==</span> <span class="s1">&#39;;&#39;</span><span class="p">:</span>
                <span class="n">next_semicolon</span> <span class="o">=</span> <span class="n">i</span>
                <span class="k">break</span>

        <span class="k">if</span> <span class="n">next_semicolon</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">stderr</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;bad word-structure&#39;</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">Exception</span>

        <span class="n">sub</span> <span class="o">=</span> <span class="n">tokens</span><span class="p">[:</span><span class="n">next_semicolon</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">words</span><span class="p">[</span><span class="n">literal</span><span class="p">]</span> <span class="o">=</span> <span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">sub</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">tokens</span><span class="p">[</span><span class="n">next_semicolon</span> <span class="o">+</span> <span class="mi">1</span><span class="p">:]</span>

    <span class="k">def</span> <span class="nf">to_R</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">a</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">return_stack</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">R_from</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">a</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">return_stack</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">dot</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stdout</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">pop</span><span class="p">())</span>

    <span class="k">def</span> <span class="nf">drop</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">_not</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">a</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="ow">not</span> <span class="nb">bool</span><span class="p">(</span><span class="n">a</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">dup</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">a</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">stack</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">pick</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># (an an-1 .. a0 n - an an-1 .. a0 an)</span>
        <span class="n">n</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
        <span class="n">a</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">stack</span><span class="p">[</span><span class="o">-</span><span class="n">n</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">q_dup</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">a</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">stack</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">a</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">dup2</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        (b a - b a b a)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">a</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">stack</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">stack</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">swap</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        swap top and second</span>
<span class="sd">        ( b a - a b )</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">a</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
        <span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">m_rot</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        top to third</span>
<span class="sd">        ( c b a - a c b )</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">a</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
        <span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
        <span class="n">c</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">rot</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        third to top</span>
<span class="sd">        ( c b a - b a c )</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">a</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
        <span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
        <span class="n">c</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">tuck</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        copy of top to third</span>
<span class="sd">        ( b a - a b a )</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">a</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
        <span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">over</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        copy of second to top</span>
<span class="sd">        ( b a - b a b )</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">stack</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">nip</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        drop second item on stack</span>
<span class="sd">        ( c b a - c a )</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">a</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">plus</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">a</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
        <span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">b</span> <span class="o">+</span> <span class="n">a</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">minus</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">a</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
        <span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">b</span> <span class="o">-</span> <span class="n">a</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">one_minus</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">a</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">a</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">star</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">a</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
        <span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">b</span> <span class="o">*</span> <span class="n">a</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">slash</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">a</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
        <span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">b</span> <span class="o">//</span> <span class="n">a</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">mod</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">a</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
        <span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">b</span> <span class="o">%</span> <span class="n">a</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">less_than</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">a</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
        <span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">b</span> <span class="o">&lt;</span> <span class="n">a</span><span class="p">)</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>

    <span class="n">t0</span> <span class="o">=</span> <span class="s1">&#39;7 8 9 DUP&#39;</span>              <span class="c1"># 7 8 9 9</span>
    <span class="n">t1</span> <span class="o">=</span> <span class="s1">&#39;7 8 9 2DUP&#39;</span>             <span class="c1"># 7 8 9 8 9</span>
    <span class="n">t2</span> <span class="o">=</span> <span class="s1">&#39;7 8 9 SWAP&#39;</span>             <span class="c1"># 7 9 8</span>
    <span class="n">t3</span> <span class="o">=</span> <span class="s1">&#39;7 8 9 ROT&#39;</span>              <span class="c1"># 8 9 7  third on top</span>
    <span class="n">t4</span> <span class="o">=</span> <span class="s1">&#39;7 8 9 -ROT&#39;</span>             <span class="c1"># 9 7 8  top on third</span>
    <span class="n">t5</span> <span class="o">=</span> <span class="s1">&#39;8 5 /&#39;</span>                  <span class="c1"># 1.6</span>
    <span class="n">t6</span> <span class="o">=</span> <span class="s1">&#39;7 NOT&#39;</span>                  <span class="c1"># 0</span>
    <span class="n">t7</span> <span class="o">=</span> <span class="s1">&#39;7 1 IF DUP THEN 8 - +&#39;</span>  <span class="c1"># 7 + 7 - 8 = 6</span>
    <span class="n">t8</span> <span class="o">=</span> <span class="s1">&#39;7 0 IF DUP THEN 8 -&#39;</span>    <span class="c1"># 7 - 8 = -1</span>
    <span class="n">t9</span> <span class="o">=</span> <span class="s1">&#39;7 0 IF DUP ELSE 9 - THEN&#39;</span>               <span class="c1"># 7 - 8 = -2</span>
    <span class="n">t10</span> <span class="o">=</span> <span class="s1">&#39;9 1 IF 0 IF 3 + THEN 9 + THEN 17 +&#39;</span>    <span class="c1"># 35</span>
    <span class="n">t11</span> <span class="o">=</span> <span class="s1">&#39;9 0 IF 1 IF 3 + THEN 9 + THEN 17 +&#39;</span>    <span class="c1"># 26</span>
    <span class="n">t12</span> <span class="o">=</span> <span class="s1">&#39;9 0 IF 8 ELSE 1 THEN +&#39;</span>  <span class="c1"># 10</span>
    <span class="n">t13</span> <span class="o">=</span> <span class="s1">&#39;200 BEGIN 1 - DUP NOT UNTIL&#39;</span>    <span class="c1"># 0</span>
    <span class="n">t14</span> <span class="o">=</span> <span class="s1">&#39;7 5 BEGIN 1 - SWAP 1 + SWAP DUP NOT UNTIL&#39;</span> <span class="c1"># 0</span>
    <span class="n">t15</span> <span class="o">=</span> <span class="s1">&#39;7 DUP *&#39;</span>  <span class="c1"># 49</span>
    <span class="n">t16</span> <span class="o">=</span> <span class="s1">&#39;9 0 IF 8 ELSE 1 IF 5 ELSE 8 THEN THEN +&#39;</span>  <span class="c1"># 14</span>
    <span class="n">t17</span> <span class="o">=</span> <span class="s1">&#39;1 10 0 DO DUP + LOOP&#39;</span>  <span class="c1"># 1024</span>

    <span class="n">ts</span> <span class="o">=</span> <span class="p">[</span><span class="n">t0</span><span class="p">,</span> <span class="n">t1</span><span class="p">,</span> <span class="n">t2</span><span class="p">,</span> <span class="n">t3</span><span class="p">,</span> <span class="n">t4</span><span class="p">,</span> <span class="n">t5</span><span class="p">,</span> <span class="n">t6</span><span class="p">,</span> <span class="n">t7</span><span class="p">,</span> <span class="n">t8</span><span class="p">,</span> <span class="n">t9</span><span class="p">,</span> <span class="n">t10</span><span class="p">,</span> <span class="n">t11</span><span class="p">,</span> <span class="n">t12</span><span class="p">,</span> <span class="n">t13</span><span class="p">,</span> <span class="n">t14</span><span class="p">,</span> <span class="n">t15</span><span class="p">,</span> <span class="n">t16</span><span class="p">,</span> <span class="n">t17</span><span class="p">]</span>

    <span class="n">F</span> <span class="o">=</span> <span class="n">Forth</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">ts</span><span class="p">:</span>
        <span class="n">F</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>

    <span class="n">F</span><span class="p">(</span><span class="s1">&#39;: SQR ( a - a2 ) DUP * ;&#39;</span><span class="p">)</span>
    <span class="n">F</span><span class="p">(</span><span class="s1">&#39;7 SQR&#39;</span><span class="p">)</span>   <span class="c1"># 49</span>

    <span class="n">F</span><span class="p">(</span><span class="s1">&#39;: GCD ( a b - gcd ) DUP -ROT MOD DUP IF GCD ELSE DROP THEN ;&#39;</span><span class="p">)</span>
    <span class="n">F</span><span class="p">(</span><span class="s1">&#39;: GC_ ( a b - gcd ) BEGIN DUP -ROT MOD DUP NOT UNTIL DROP ;&#39;</span><span class="p">)</span>
    <span class="n">F</span><span class="p">(</span><span class="s1">&#39;60 40 GCD&#39;</span><span class="p">)</span>   <span class="c1"># 20</span>
    <span class="n">F</span><span class="p">(</span><span class="s1">&#39;60 40 GC_&#39;</span><span class="p">)</span>   <span class="c1"># 20</span>

    <span class="n">F</span><span class="p">(</span><span class="s1">&#39;: HORNER ( a0 a1 .. an n x - p(x) ) SWAP DUP IF 0 DO DUP &gt;R * +  R&gt; LOOP ELSE DROP THEN DROP ;&#39;</span><span class="p">)</span>
    <span class="n">F</span><span class="p">(</span><span class="s1">&#39;: _HORNE ( a0 a1 .. an x n - p(x) ) DUP IF 1- &gt;R DUP &gt;R * + R&gt; R&gt; _HORNE ELSE DROP DROP THEN ;&#39;</span><span class="p">)</span>
    <span class="n">F</span><span class="p">(</span><span class="s1">&#39;: HORNRR ( a0 a1 .. an n x - p(x) ) SWAP _HORNE ;&#39;</span><span class="p">)</span>

    <span class="n">F</span><span class="p">(</span><span class="s1">&#39;: P0 1 0 ;&#39;</span><span class="p">)</span>
    <span class="n">F</span><span class="p">(</span><span class="s1">&#39;: P1 1 1 1 ;&#39;</span><span class="p">)</span>
    <span class="n">F</span><span class="p">(</span><span class="s1">&#39;: P10 1 1 1 1 1 1 1 1 1 1 1 10 ;&#39;</span><span class="p">)</span>

    <span class="n">F</span><span class="p">(</span><span class="s1">&#39;P0 10 HORNER&#39;</span><span class="p">)</span>   <span class="c1"># 1</span>
    <span class="n">F</span><span class="p">(</span><span class="s1">&#39;P1 10 HORNER&#39;</span><span class="p">)</span>   <span class="c1"># 11</span>
    <span class="n">F</span><span class="p">(</span><span class="s1">&#39;P10 10 HORNER&#39;</span><span class="p">)</span>   <span class="c1"># 11111111111</span>
    <span class="n">F</span><span class="p">(</span><span class="s1">&#39;P0 10 HORNRR&#39;</span><span class="p">)</span>  <span class="c1"># 1</span>
    <span class="n">F</span><span class="p">(</span><span class="s1">&#39;P1 10 HORNRR&#39;</span><span class="p">)</span>  <span class="c1"># 11</span>
    <span class="n">F</span><span class="p">(</span><span class="s1">&#39;P10 10 HORNRR&#39;</span><span class="p">)</span>  <span class="c1"># 11111111111</span>

    <span class="nb">print</span><span class="p">(</span><span class="n">F</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>[7, 8, 9, 9, 7, 8, 9, 8, 9, 7, 9, 8, 8, 9, 7, 9, 7, 8, 1, False, 6, -1, -2, 35, 26, 10, 0, 12, 0, 49, 14, 1024, 49, 20, 20, 1, 11, 11111111111, 1, 11, 11111111111]
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

</div>
 

